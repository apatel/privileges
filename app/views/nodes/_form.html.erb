<%= semantic_form_for(@node) do |f| %>
    <%= f.inputs do %>
      <%= f.input :text, :label => "Question Text" %>
	  <%= f.input :first, :label => "Is this the first question?" %>
	<% end %>
	
    <%= label_tag "Choices" %>
	<% all_nodes = Node.all(:order => 'id') %>
	<% unless all_nodes.blank? %>
	  <% for node in all_nodes %>
	      <% unless node == @node %>
		    <%= check_box_tag "node[choice_ids][]", node.id, @node.choices.include?(node) %>
	        <%= node.text %>
		  <% end %>	
	  <% end %>
	<% end %>
	
	<%= f.buttons %>
  <% end %>